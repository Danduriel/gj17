[gd_scene load_steps=3 format=1]

[ext_resource path="res://player/icon.png" type="Texture" id=1]

[sub_resource type="GDScript" id=1]

script/source = "#player\nextends RigidBody2D\n\n# Constant for pad speed (in pixels/second)\nconst PLAYER_SPEED = 64\nvar player_size\n\nvar bullet = preload(\"res://bullet/bullet.tscn\")\n\nvar direction = Vector2(1.0, 0.0)\n\nfunc _ready():\n\t# Called every time the node is added to the scene.\n\t# Initialization here\n\tplayer_size = get_node(\"player\").get_texture().get_size()\n\tset_process(true)\n\n\n\nfunc _process(delta):\n\tvar player_rect = Rect2( get_node(\"player\").get_pos() - player_size*0.5, player_size )\n\tvar player_pos = get_node(\"player\").get_pos()\n\t\n\tif (Input.is_action_pressed(\"move_down\")):\n\t\tplayer_pos.y -= -PLAYER_SPEED * delta\n\telif(Input.is_action_pressed(\"move_up\")):\n\t\tplayer_pos.y += -PLAYER_SPEED * delta\n\telif(Input.is_action_pressed(\"move_right\")):\n\t\tplayer_pos.x -= -PLAYER_SPEED * delta\n\telif(Input.is_action_pressed(\"move_left\")):\n\t\tplayer_pos.x += -PLAYER_SPEED * delta\n\telif(Input.is_action_pressed(\"shoot\")):\n\t\tvar bi = bullet.instance()\n\n\t\tvar pos = get_pos() + get_node(\"bullet_shoot\").get_pos()*Vector2(1.0, 1.0)\n\t\t\n\t\tbi.set_pos(pos)\n\t\tget_parent().add_child(bi)\n\t\t\n\t\tbi.set_linear_velocity(Vector2(800.0*1.0, -80))\n\t\t\n\t\tPS2D.body_add_collision_exception(bi.get_rid(), get_rid()) # Make bullet and this not collide\n\n\tget_node(\"player\").set_pos(player_pos)\n"

[node name="player" type="RigidBody2D"]

input/pickable = false
collision/layers = 1
collision/mask = 1
mode = 0
mass = 1.0
friction = 1.0
bounce = 0.0
gravity_scale = 0.0
custom_integrator = false
continuous_cd = 0
contacts_reported = 0
contact_monitor = false
sleeping = false
can_sleep = true
velocity/linear = Vector2( 0, 0 )
velocity/angular = 0.0
damp_override/linear = -1.0
damp_override/angular = -1.0
script/script = SubResource( 1 )

[node name="player" type="Sprite" parent="."]

transform/pos = Vector2( 196.745, 103.788 )
texture = ExtResource( 1 )

[node name="bullet_shoot" type="Position2D" parent="."]

transform/pos = Vector2( 196.745, 105.593 )


